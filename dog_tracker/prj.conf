# Copyright (c) 2024 Dog Tracker Project
# SPDX-License-Identifier: Apache-2.0

# 基础配置
CONFIG_LOG=y
CONFIG_LOG_DEFAULT_LEVEL=3

# 日志配置 - 使用默认级别

# 蓝牙配置
CONFIG_BT=y
CONFIG_BT_CENTRAL=n
CONFIG_BT_PERIPHERAL=y

# GATT相关
CONFIG_BT_GATT_SERVICE_CHANGED=y
CONFIG_BT_GATT_CACHING=y
CONFIG_BT_GATT_ENFORCE_SUBSCRIPTION=n

# 安全性配置
CONFIG_BT_SMP=y
CONFIG_BT_SIGNING=y
CONFIG_BT_BONDABLE=y
CONFIG_BT_BONDING_REQUIRED=n

# L2CAP配置
CONFIG_BT_L2CAP_TX_BUF_COUNT=8

# 设备名称和ID
CONFIG_BT_DEVICE_NAME="Dog_Tracker"
CONFIG_BT_DEVICE_APPEARANCE=0

# 蓝牙控制器配置
CONFIG_BT_CTLR=y
CONFIG_BT_CTLR_ADV_EXT=y
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y

# 广播配置
CONFIG_BT_EXT_ADV=y

# 内存配置
CONFIG_HEAP_MEM_POOL_SIZE=16384
CONFIG_MAIN_STACK_SIZE=2048
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048

# 设置存储
CONFIG_SETTINGS=y
CONFIG_SETTINGS_RUNTIME=y  # 启用运行时Settings API
CONFIG_SETTINGS_NVS=y
CONFIG_NVS=y
CONFIG_FLASH=y
CONFIG_FLASH_MAP=y

# CBOR支持（用于数据编解码）
CONFIG_ZCBOR=y
CONFIG_ZCBOR_CANONICAL=y

# 随机数生成
CONFIG_ENTROPY_GENERATOR=y

# GPIO和定时器支持
CONFIG_GPIO=y
CONFIG_COUNTER=y

# Shell支持（调试用）
CONFIG_SHELL=y
CONFIG_SHELL_BACKEND_SERIAL=y

# UART配置
CONFIG_SERIAL=y
CONFIG_UART_INTERRUPT_DRIVEN=y
CONFIG_CONSOLE=y

# 看门狗
CONFIG_WATCHDOG=y